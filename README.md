# MachineLearningAnthro

Below is an overview of the workflow. In order to run any of the scripts on your machine, you just need to edit `utils.py` and add the location of `Paper3_MoclanReplicationPaper` on your local machine to the `data_dirs` list. The code will look for the directory in all locations in that list, so it can work on everyone's machine without constantly making changes. On my Linux machine the directory is
```
/drive/GoogleDrive/AMAAZE/Dissertation_YezziWoodley/Paper3_MoclanReplicationPaper/'
```

1. `process_ppfiles.py`: This script loads the pp files and generates `break_ep_data.csv`. The ppfiles are located in the ppfiles folder in github.
2. `process_VG_data.py`: This script takes as input a csv file generated by the virtual goniometer (VG), and transforms the data into a 2D python dictionary that allows easy access to the VG information by fragment name, and break number. The script saves the dictionary in the pkl file `break_curve_data.pkl` which can be used by other scripts.  This script requires `finaldata_angle_level.csv` from Google drive and `break_ep_data.csv` generated in Step 1. 
3. `mesh_stats.py`: This script computes statistics of each mesh directly from the 3D models and stores them in the file `mesh_stats.csv`. This script requires access to the meshes in the `finaldata_VtgonMeshes` folder in Google drive.
4. `frag_data.py`: This script compiles the fragment level data, from both `mesh_stats.csv`, the inventory file `finaldata_inventoryall.csv` (Google drive), and the trabeculae file `finaldata_trabecula.csv` (Google drive). This generates `frag_data.csv`. 
5. `compile_break_level_ml.py`: This generates the dataset to be used for machine learning at the break level. It requires `manaul_break_level.csv` (Google drive),`mesh_stats.csv`, and `break_curve_data.pkl`. The script outputs the dataset to the file `break_level_ml.csv`.
6. `compile_frag_level_ml.py`: This generates the dataset to be used for machine learning at the fragment level. It requires `break_level_ml.csv` and `frag_data.csv`, and outputs the dataset to `frag_level_ml.csv`.

## Other scripts
We need to describe all other scripts:
1. `moclan.py`:
2. `moclan_modified.py`:
3. `frag_level_experiment.py`: This is an experiment that compares train/test splits at fragment level versus break level.
